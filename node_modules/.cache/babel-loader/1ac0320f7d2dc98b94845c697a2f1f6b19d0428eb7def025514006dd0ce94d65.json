{"ast":null,"code":"import React,{useState}from'react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ControlsMenu=_ref=>{let{controls,onControlsChange,onBack}=_ref;const[currentControls,setCurrentControls]=useState(controls);const[listeningFor,setListeningFor]=useState(null);const handleKeyChange=(controlName,e)=>{e.preventDefault();setListeningFor(controlName);};const handleKeyDown=e=>{if(listeningFor){e.preventDefault();// Get the key name\nlet keyName=e.key;if(keyName===' ')keyName='space';// Update the control\nconst newControls={...currentControls,[listeningFor]:keyName};setCurrentControls(newControls);setListeningFor(null);// Notify parent component\nonControlsChange(newControls);}};React.useEffect(()=>{if(listeningFor){window.addEventListener('keydown',handleKeyDown);return()=>{window.removeEventListener('keydown',handleKeyDown);};}},[listeningFor]);const controlLabels={forward:'Move Forward',left:'Move Left',backward:'Move Backward',right:'Move Right',jump:'Jump',reload:'Reload',pickup:'Pick Up Weapon',crouch:'Crouch'};return/*#__PURE__*/_jsxs(\"div\",{className:\"controls-menu\",onKeyDown:handleKeyDown,tabIndex:\"0\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Controls\"}),/*#__PURE__*/_jsx(\"div\",{className:\"control-list\",children:Object.keys(currentControls).map(control=>/*#__PURE__*/_jsxs(\"div\",{className:\"control-item\",children:[/*#__PURE__*/_jsx(\"span\",{children:controlLabels[control]}),/*#__PURE__*/_jsx(\"button\",{className:\"control-key\",onClick:e=>handleKeyChange(control,e),children:listeningFor===control?'Press a key...':currentControls[control]===' '?'space':currentControls[control]})]},control))}),/*#__PURE__*/_jsxs(\"div\",{className:\"fixed-controls\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Fixed Controls\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"control-item\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Shoot\"}),/*#__PURE__*/_jsx(\"div\",{className:\"control-key\",children:\"Left Click\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"control-item\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Scope\"}),/*#__PURE__*/_jsx(\"div\",{className:\"control-key\",children:\"Right Click\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"control-item\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Scoreboard\"}),/*#__PURE__*/_jsx(\"div\",{className:\"control-key\",children:\"Tab\"})]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:onBack,children:\"Back to Menu\"})]});};export default ControlsMenu;","map":{"version":3,"names":["React","useState","jsx","_jsx","jsxs","_jsxs","ControlsMenu","_ref","controls","onControlsChange","onBack","currentControls","setCurrentControls","listeningFor","setListeningFor","handleKeyChange","controlName","e","preventDefault","handleKeyDown","keyName","key","newControls","useEffect","window","addEventListener","removeEventListener","controlLabels","forward","left","backward","right","jump","reload","pickup","crouch","className","onKeyDown","tabIndex","children","Object","keys","map","control","onClick"],"sources":["C:/Users/ahmed/3d-shooter-game/src/components/ControlsMenu.js"],"sourcesContent":["import React, { useState } from 'react';\r\n\r\nconst ControlsMenu = ({ controls, onControlsChange, onBack }) => {\r\n  const [currentControls, setCurrentControls] = useState(controls);\r\n  const [listeningFor, setListeningFor] = useState(null);\r\n\r\n  const handleKeyChange = (controlName, e) => {\r\n    e.preventDefault();\r\n    setListeningFor(controlName);\r\n  };\r\n\r\n  const handleKeyDown = (e) => {\r\n    if (listeningFor) {\r\n      e.preventDefault();\r\n      \r\n      // Get the key name\r\n      let keyName = e.key;\r\n      if (keyName === ' ') keyName = 'space';\r\n      \r\n      // Update the control\r\n      const newControls = { ...currentControls, [listeningFor]: keyName };\r\n      setCurrentControls(newControls);\r\n      setListeningFor(null);\r\n      \r\n      // Notify parent component\r\n      onControlsChange(newControls);\r\n    }\r\n  };\r\n\r\n  React.useEffect(() => {\r\n    if (listeningFor) {\r\n      window.addEventListener('keydown', handleKeyDown);\r\n      return () => {\r\n        window.removeEventListener('keydown', handleKeyDown);\r\n      };\r\n    }\r\n  }, [listeningFor]);\r\n\r\n  const controlLabels = {\r\n    forward: 'Move Forward',\r\n    left: 'Move Left',\r\n    backward: 'Move Backward',\r\n    right: 'Move Right',\r\n    jump: 'Jump',\r\n    reload: 'Reload',\r\n    pickup: 'Pick Up Weapon',\r\n    crouch: 'Crouch'\r\n  };\r\n\r\n  return (\r\n    <div className=\"controls-menu\" onKeyDown={handleKeyDown} tabIndex=\"0\">\r\n      <h2>Controls</h2>\r\n      \r\n      <div className=\"control-list\">\r\n        {Object.keys(currentControls).map(control => (\r\n          <div className=\"control-item\" key={control}>\r\n            <span>{controlLabels[control]}</span>\r\n            <button \r\n              className=\"control-key\"\r\n              onClick={(e) => handleKeyChange(control, e)}\r\n            >\r\n              {listeningFor === control ? 'Press a key...' : currentControls[control] === ' ' ? 'space' : currentControls[control]}\r\n            </button>\r\n          </div>\r\n        ))}\r\n      </div>\r\n      \r\n      <div className=\"fixed-controls\">\r\n        <h3>Fixed Controls</h3>\r\n        <div className=\"control-item\">\r\n          <span>Shoot</span>\r\n          <div className=\"control-key\">Left Click</div>\r\n        </div>\r\n        <div className=\"control-item\">\r\n          <span>Scope</span>\r\n          <div className=\"control-key\">Right Click</div>\r\n        </div>\r\n        <div className=\"control-item\">\r\n          <span>Scoreboard</span>\r\n          <div className=\"control-key\">Tab</div>\r\n        </div>\r\n      </div>\r\n      \r\n      <button onClick={onBack}>Back to Menu</button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ControlsMenu;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAExC,KAAM,CAAAC,YAAY,CAAGC,IAAA,EAA4C,IAA3C,CAAEC,QAAQ,CAAEC,gBAAgB,CAAEC,MAAO,CAAC,CAAAH,IAAA,CAC1D,KAAM,CAACI,eAAe,CAAEC,kBAAkB,CAAC,CAAGX,QAAQ,CAACO,QAAQ,CAAC,CAChE,KAAM,CAACK,YAAY,CAAEC,eAAe,CAAC,CAAGb,QAAQ,CAAC,IAAI,CAAC,CAEtD,KAAM,CAAAc,eAAe,CAAGA,CAACC,WAAW,CAAEC,CAAC,GAAK,CAC1CA,CAAC,CAACC,cAAc,CAAC,CAAC,CAClBJ,eAAe,CAACE,WAAW,CAAC,CAC9B,CAAC,CAED,KAAM,CAAAG,aAAa,CAAIF,CAAC,EAAK,CAC3B,GAAIJ,YAAY,CAAE,CAChBI,CAAC,CAACC,cAAc,CAAC,CAAC,CAElB;AACA,GAAI,CAAAE,OAAO,CAAGH,CAAC,CAACI,GAAG,CACnB,GAAID,OAAO,GAAK,GAAG,CAAEA,OAAO,CAAG,OAAO,CAEtC;AACA,KAAM,CAAAE,WAAW,CAAG,CAAE,GAAGX,eAAe,CAAE,CAACE,YAAY,EAAGO,OAAQ,CAAC,CACnER,kBAAkB,CAACU,WAAW,CAAC,CAC/BR,eAAe,CAAC,IAAI,CAAC,CAErB;AACAL,gBAAgB,CAACa,WAAW,CAAC,CAC/B,CACF,CAAC,CAEDtB,KAAK,CAACuB,SAAS,CAAC,IAAM,CACpB,GAAIV,YAAY,CAAE,CAChBW,MAAM,CAACC,gBAAgB,CAAC,SAAS,CAAEN,aAAa,CAAC,CACjD,MAAO,IAAM,CACXK,MAAM,CAACE,mBAAmB,CAAC,SAAS,CAAEP,aAAa,CAAC,CACtD,CAAC,CACH,CACF,CAAC,CAAE,CAACN,YAAY,CAAC,CAAC,CAElB,KAAM,CAAAc,aAAa,CAAG,CACpBC,OAAO,CAAE,cAAc,CACvBC,IAAI,CAAE,WAAW,CACjBC,QAAQ,CAAE,eAAe,CACzBC,KAAK,CAAE,YAAY,CACnBC,IAAI,CAAE,MAAM,CACZC,MAAM,CAAE,QAAQ,CAChBC,MAAM,CAAE,gBAAgB,CACxBC,MAAM,CAAE,QACV,CAAC,CAED,mBACE9B,KAAA,QAAK+B,SAAS,CAAC,eAAe,CAACC,SAAS,CAAElB,aAAc,CAACmB,QAAQ,CAAC,GAAG,CAAAC,QAAA,eACnEpC,IAAA,OAAAoC,QAAA,CAAI,UAAQ,CAAI,CAAC,cAEjBpC,IAAA,QAAKiC,SAAS,CAAC,cAAc,CAAAG,QAAA,CAC1BC,MAAM,CAACC,IAAI,CAAC9B,eAAe,CAAC,CAAC+B,GAAG,CAACC,OAAO,eACvCtC,KAAA,QAAK+B,SAAS,CAAC,cAAc,CAAAG,QAAA,eAC3BpC,IAAA,SAAAoC,QAAA,CAAOZ,aAAa,CAACgB,OAAO,CAAC,CAAO,CAAC,cACrCxC,IAAA,WACEiC,SAAS,CAAC,aAAa,CACvBQ,OAAO,CAAG3B,CAAC,EAAKF,eAAe,CAAC4B,OAAO,CAAE1B,CAAC,CAAE,CAAAsB,QAAA,CAE3C1B,YAAY,GAAK8B,OAAO,CAAG,gBAAgB,CAAGhC,eAAe,CAACgC,OAAO,CAAC,GAAK,GAAG,CAAG,OAAO,CAAGhC,eAAe,CAACgC,OAAO,CAAC,CAC9G,CAAC,GAPwBA,OAQ9B,CACN,CAAC,CACC,CAAC,cAENtC,KAAA,QAAK+B,SAAS,CAAC,gBAAgB,CAAAG,QAAA,eAC7BpC,IAAA,OAAAoC,QAAA,CAAI,gBAAc,CAAI,CAAC,cACvBlC,KAAA,QAAK+B,SAAS,CAAC,cAAc,CAAAG,QAAA,eAC3BpC,IAAA,SAAAoC,QAAA,CAAM,OAAK,CAAM,CAAC,cAClBpC,IAAA,QAAKiC,SAAS,CAAC,aAAa,CAAAG,QAAA,CAAC,YAAU,CAAK,CAAC,EAC1C,CAAC,cACNlC,KAAA,QAAK+B,SAAS,CAAC,cAAc,CAAAG,QAAA,eAC3BpC,IAAA,SAAAoC,QAAA,CAAM,OAAK,CAAM,CAAC,cAClBpC,IAAA,QAAKiC,SAAS,CAAC,aAAa,CAAAG,QAAA,CAAC,aAAW,CAAK,CAAC,EAC3C,CAAC,cACNlC,KAAA,QAAK+B,SAAS,CAAC,cAAc,CAAAG,QAAA,eAC3BpC,IAAA,SAAAoC,QAAA,CAAM,YAAU,CAAM,CAAC,cACvBpC,IAAA,QAAKiC,SAAS,CAAC,aAAa,CAAAG,QAAA,CAAC,KAAG,CAAK,CAAC,EACnC,CAAC,EACH,CAAC,cAENpC,IAAA,WAAQyC,OAAO,CAAElC,MAAO,CAAA6B,QAAA,CAAC,cAAY,CAAQ,CAAC,EAC3C,CAAC,CAEV,CAAC,CAED,cAAe,CAAAjC,YAAY","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}