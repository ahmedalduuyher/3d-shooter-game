{"ast":null,"code":"import React,{useRef,useEffect}from'react';import{useThree,useFrame}from'@react-three/fiber';import*as THREE from'three';import{PerspectiveCamera,OrbitControls}from'@react-three/drei';import{jsx as _jsx,Fragment as _Fragment,jsxs as _jsxs}from\"react/jsx-runtime\";const CameraController=_ref=>{let{playerRef}=_ref;const{camera,gl}=useThree();const controlsRef=useRef();// Set up camera properties\nuseEffect(()=>{camera.fov=75;camera.near=0.1;camera.far=1000;camera.position.set(0,2,5);camera.lookAt(0,0,0);camera.updateProjectionMatrix();},[camera]);// Follow player if playerRef is provided\nuseFrame(()=>{if(playerRef&&playerRef.current){const playerPosition=playerRef.current.position;// Position camera behind player\ncamera.position.x=playerPosition.x;camera.position.z=playerPosition.z+5;camera.position.y=playerPosition.y+2;// Look at player\ncamera.lookAt(playerPosition.x,playerPosition.y+1,playerPosition.z);}});return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(PerspectiveCamera,{makeDefault:true}),!playerRef&&/*#__PURE__*/_jsx(OrbitControls,{ref:controlsRef,args:[camera,gl.domElement],enableDamping:true,dampingFactor:0.1,rotateSpeed:0.5})]});};export default CameraController;","map":{"version":3,"names":["React","useRef","useEffect","useThree","useFrame","THREE","PerspectiveCamera","OrbitControls","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","CameraController","_ref","playerRef","camera","gl","controlsRef","fov","near","far","position","set","lookAt","updateProjectionMatrix","current","playerPosition","x","z","y","children","makeDefault","ref","args","domElement","enableDamping","dampingFactor","rotateSpeed"],"sources":["C:/Users/ahmed/3d-shooter-game/src/game/rendering/CameraController.js"],"sourcesContent":["import React, { useRef, useEffect } from 'react';\r\nimport { useThree, useFrame } from '@react-three/fiber';\r\nimport * as THREE from 'three';\r\nimport { PerspectiveCamera, OrbitControls } from '@react-three/drei';\r\n\r\nconst CameraController = ({ playerRef }) => {\r\n  const { camera, gl } = useThree();\r\n  const controlsRef = useRef();\r\n  \r\n  // Set up camera properties\r\n  useEffect(() => {\r\n    camera.fov = 75;\r\n    camera.near = 0.1;\r\n    camera.far = 1000;\r\n    camera.position.set(0, 2, 5);\r\n    camera.lookAt(0, 0, 0);\r\n    camera.updateProjectionMatrix();\r\n  }, [camera]);\r\n  \r\n  // Follow player if playerRef is provided\r\n  useFrame(() => {\r\n    if (playerRef && playerRef.current) {\r\n      const playerPosition = playerRef.current.position;\r\n      \r\n      // Position camera behind player\r\n      camera.position.x = playerPosition.x;\r\n      camera.position.z = playerPosition.z + 5;\r\n      camera.position.y = playerPosition.y + 2;\r\n      \r\n      // Look at player\r\n      camera.lookAt(\r\n        playerPosition.x,\r\n        playerPosition.y + 1,\r\n        playerPosition.z\r\n      );\r\n    }\r\n  });\r\n  \r\n  return (\r\n    <>\r\n      <PerspectiveCamera makeDefault />\r\n      {!playerRef && (\r\n        <OrbitControls\r\n          ref={controlsRef}\r\n          args={[camera, gl.domElement]}\r\n          enableDamping\r\n          dampingFactor={0.1}\r\n          rotateSpeed={0.5}\r\n        />\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default CameraController;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,MAAM,CAAEC,SAAS,KAAQ,OAAO,CAChD,OAASC,QAAQ,CAAEC,QAAQ,KAAQ,oBAAoB,CACvD,MAAO,GAAK,CAAAC,KAAK,KAAM,OAAO,CAC9B,OAASC,iBAAiB,CAAEC,aAAa,KAAQ,mBAAmB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,QAAA,IAAAC,SAAA,CAAAC,IAAA,IAAAC,KAAA,yBAErE,KAAM,CAAAC,gBAAgB,CAAGC,IAAA,EAAmB,IAAlB,CAAEC,SAAU,CAAC,CAAAD,IAAA,CACrC,KAAM,CAAEE,MAAM,CAAEC,EAAG,CAAC,CAAGf,QAAQ,CAAC,CAAC,CACjC,KAAM,CAAAgB,WAAW,CAAGlB,MAAM,CAAC,CAAC,CAE5B;AACAC,SAAS,CAAC,IAAM,CACde,MAAM,CAACG,GAAG,CAAG,EAAE,CACfH,MAAM,CAACI,IAAI,CAAG,GAAG,CACjBJ,MAAM,CAACK,GAAG,CAAG,IAAI,CACjBL,MAAM,CAACM,QAAQ,CAACC,GAAG,CAAC,CAAC,CAAE,CAAC,CAAE,CAAC,CAAC,CAC5BP,MAAM,CAACQ,MAAM,CAAC,CAAC,CAAE,CAAC,CAAE,CAAC,CAAC,CACtBR,MAAM,CAACS,sBAAsB,CAAC,CAAC,CACjC,CAAC,CAAE,CAACT,MAAM,CAAC,CAAC,CAEZ;AACAb,QAAQ,CAAC,IAAM,CACb,GAAIY,SAAS,EAAIA,SAAS,CAACW,OAAO,CAAE,CAClC,KAAM,CAAAC,cAAc,CAAGZ,SAAS,CAACW,OAAO,CAACJ,QAAQ,CAEjD;AACAN,MAAM,CAACM,QAAQ,CAACM,CAAC,CAAGD,cAAc,CAACC,CAAC,CACpCZ,MAAM,CAACM,QAAQ,CAACO,CAAC,CAAGF,cAAc,CAACE,CAAC,CAAG,CAAC,CACxCb,MAAM,CAACM,QAAQ,CAACQ,CAAC,CAAGH,cAAc,CAACG,CAAC,CAAG,CAAC,CAExC;AACAd,MAAM,CAACQ,MAAM,CACXG,cAAc,CAACC,CAAC,CAChBD,cAAc,CAACG,CAAC,CAAG,CAAC,CACpBH,cAAc,CAACE,CACjB,CAAC,CACH,CACF,CAAC,CAAC,CAEF,mBACEjB,KAAA,CAAAF,SAAA,EAAAqB,QAAA,eACEvB,IAAA,CAACH,iBAAiB,EAAC2B,WAAW,MAAE,CAAC,CAChC,CAACjB,SAAS,eACTP,IAAA,CAACF,aAAa,EACZ2B,GAAG,CAAEf,WAAY,CACjBgB,IAAI,CAAE,CAAClB,MAAM,CAAEC,EAAE,CAACkB,UAAU,CAAE,CAC9BC,aAAa,MACbC,aAAa,CAAE,GAAI,CACnBC,WAAW,CAAE,GAAI,CAClB,CACF,EACD,CAAC,CAEP,CAAC,CAED,cAAe,CAAAzB,gBAAgB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}